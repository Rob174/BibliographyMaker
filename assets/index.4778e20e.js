(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function L(){}const wt=t=>t;function bt(t){return t()}function pt(){return Object.create(null)}function V(t){t.forEach(bt)}function it(t){return typeof t=="function"}function lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pt(t){return Object.keys(t).length===0}function O(t){return t==null?"":t}const $t=typeof window<"u";let Ut=$t?()=>window.performance.now():()=>Date.now(),ct=$t?t=>requestAnimationFrame(t):L;const T=new Set;function vt(t){T.forEach(e=>{e.c(t)||(T.delete(e),e.f())}),T.size!==0&&ct(vt)}function Ct(t){let e;return T.size===0&&ct(vt),{promise:new Promise(n=>{T.add(e={c:t,f:n})}),abort(){T.delete(e)}}}function m(t,e){t.appendChild(e)}function kt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Rt(t){const e=P("style");return jt(kt(t),e),e.sheet}function jt(t,e){return m(t.head||t,e),e.sheet}function zt(t,e,n){t.insertBefore(e,n||null)}function ut(t){t.parentNode&&t.parentNode.removeChild(t)}function P(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function H(){return z(" ")}function q(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ft(t){return Array.from(t.childNodes)}function Tt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const Y=new Map;let Z=0;function Mt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Vt(t,e){const n={stylesheet:Rt(e),rules:{}};return Y.set(t,n),n}function _t(t,e,n,r,o,s,c,l=0){const u=16.666/r;let i=`{
`;for(let d=0;d<=1;d+=u){const D=e+(n-e)*s(d);i+=d*100+`%{${c(D,1-D)}}
`}const _=i+`100% {${c(n,1-n)}}
}`,a=`__svelte_${Mt(_)}_${l}`,$=kt(t),{stylesheet:f,rules:g}=Y.get($)||Vt($,t);g[a]||(g[a]=!0,f.insertRule(`@keyframes ${a} ${_}`,f.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${a} ${r}ms linear ${o}ms 1 both`,Z+=1,a}function qt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),o=n.length-r.length;o&&(t.style.animation=r.join(", "),Z-=o,Z||Kt())}function Kt(){ct(()=>{Z||(Y.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&ut(e)}),Y.clear())})}let B;function W(t){B=t}function Wt(){if(!B)throw new Error("Function called outside component initialization");return B}function Bt(t){Wt().$$.on_mount.push(t)}const F=[],ht=[];let M=[];const mt=[],Jt=Promise.resolve();let ot=!1;function Gt(){ot||(ot=!0,Jt.then(Ot))}function I(t){M.push(t)}const nt=new Set;let R=0;function Ot(){if(R!==0)return;const t=B;do{try{for(;R<F.length;){const e=F[R];R++,W(e),Ht(e.$$)}}catch(e){throw F.length=0,R=0,e}for(W(null),F.length=0,R=0;ht.length;)ht.pop()();for(let e=0;e<M.length;e+=1){const n=M[e];nt.has(n)||(nt.add(n),n())}M.length=0}while(F.length);for(;mt.length;)mt.pop()();ot=!1,nt.clear(),W(t)}function Ht(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}function Qt(t){const e=[],n=[];M.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),M=e}let K;function Xt(){return K||(K=Promise.resolve(),K.then(()=>{K=null})),K}function rt(t,e,n){t.dispatchEvent(Tt(`${e?"intro":"outro"}${n}`))}const X=new Set;let st;function xt(t,e){t&&t.i&&(X.delete(t),t.i(e))}function Yt(t,e,n,r){if(t&&t.o){if(X.has(t))return;X.add(t),st.c.push(()=>{X.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Zt={duration:0};function x(t,e,n,r){const o={direction:"both"};let s=e(t,n,o),c=r?0:1,l=null,u=null,i=null;function _(){i&&qt(t,i)}function a(f,g){const y=f.b-c;return g*=Math.abs(y),{a:c,b:f.b,d:y,duration:g,start:f.start,end:f.start+g,group:f.group}}function $(f){const{delay:g=0,duration:y=300,easing:d=wt,tick:D=L,css:v}=s||Zt,C={start:Ut()+g,b:f};f||(C.group=st,st.r+=1),l||u?u=C:(v&&(_(),i=_t(t,c,f,y,g,d,v)),f&&D(0,1),l=a(C,y),I(()=>rt(t,f,"start")),Ct(E=>{if(u&&E>u.start&&(l=a(u,y),u=null,rt(t,l.b,"start"),v&&(_(),i=_t(t,c,l.b,l.duration,0,d,s.css))),l){if(E>=l.end)D(c=l.b,1-c),rt(t,l.b,"end"),u||(l.b?_():--l.group.r||V(l.group.c)),l=null;else if(E>=l.start){const k=E-l.start;c=l.a+l.d*d(k/l.duration),D(c,1-c)}}return!!(l||u)}))}return{run(f){it(s)?Xt().then(()=>{s=s(o),$(f)}):$(f)},end(){_(),l=u=null}}}function te(t){t&&t.c()}function St(t,e,n,r){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),r||I(()=>{const c=t.$$.on_mount.map(bt).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...c):V(c),t.$$.on_mount=[]}),s.forEach(I)}function Dt(t,e){const n=t.$$;n.fragment!==null&&(Qt(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ee(t,e){t.$$.dirty[0]===-1&&(F.push(t),Gt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,n,r,o,s,c,l=[-1]){const u=B;W(t);const i=t.$$={fragment:null,ctx:[],props:s,update:L,not_equal:o,bound:pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:pt(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};c&&c(i.root);let _=!1;if(i.ctx=n?n(t,e.props||{},(a,$,...f)=>{const g=f.length?f[0]:$;return i.ctx&&o(i.ctx[a],i.ctx[a]=g)&&(!i.skip_bound&&i.bound[a]&&i.bound[a](g),_&&ee(t,a)),$}):[],i.update(),_=!0,V(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const a=Ft(e.target);i.fragment&&i.fragment.l(a),a.forEach(ut)}else i.fragment&&i.fragment.c();e.intro&&xt(t.$$.fragment),St(t,e.target,e.anchor,e.customElement),Ot()}W(u)}class It{$destroy(){Dt(this,1),this.$destroy=L}$on(e,n){if(!it(n))return L;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function S(t,{delay:e=0,duration:n=400,easing:r=wt}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*o}`}}const j=[];function tt(t,e=L){let n;const r=new Set;function o(l){if(lt(t,l)&&(t=l,n)){const u=!j.length;for(const i of r)i[1](),j.push(i,t);if(u){for(let i=0;i<j.length;i+=2)j[i][0](j[i+1]);j.length=0}}}function s(l){o(l(t))}function c(l,u=L){const i=[l,u];return r.add(i),r.size===1&&(n=e(o)||L),l(t),()=>{r.delete(i),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:c}}let Q;const ne=new Uint8Array(16);function re(){if(!Q&&(Q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(ne)}const p=[];for(let t=0;t<256;++t)p.push((t+256).toString(16).slice(1));function oe(t,e=0){return(p[t[e+0]]+p[t[e+1]]+p[t[e+2]]+p[t[e+3]]+"-"+p[t[e+4]]+p[t[e+5]]+"-"+p[t[e+6]]+p[t[e+7]]+"-"+p[t[e+8]]+p[t[e+9]]+"-"+p[t[e+10]]+p[t[e+11]]+p[t[e+12]]+p[t[e+13]]+p[t[e+14]]+p[t[e+15]]).toLowerCase()}const se=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gt={randomUUID:se};function J(t,e,n){if(gt.randomUUID&&!e&&!t)return gt.randomUUID();t=t||{};const r=t.random||(t.rng||re)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=r[o];return e}return oe(r)}tt(ae());tt(fe());const Lt=tt([]),ie=tt([]);let yt=!1;Lt.subscribe(t=>{const e=new Set;for(const o of t)for(const s of o.tags)e.add(s.text);const n=Array.from(e);n.sort();const r=pe(n.length);console.log("colors",r),ie.set(n.map((o,s)=>({id:J(),text:o,color:r[s]}))),yt&&ce("paperStore",t),yt=!0});function le(){console.log("Restoring...");const t=ue("paperStore");console.log("Found ",t),t&&t!==null?Lt.update(e=>t):console.log("Nothing found")}function ce(t,e){console.log("Saving to local storage ",e),localStorage.setItem(t,JSON.stringify(e))}function ue(t){const e=localStorage.getItem(t);return e?JSON.parse(e):null}function ae(){return{id:J(),doi:"",url:"",citations:[At()],tags:[Nt()],analysis:""}}function fe(){return{id:J(),title:"",authors:[de()],year:"",url:"",citations:[At()],tags:[Nt()],analysis:""}}function Nt(){return{id:J(),text:""}}function de(){return{family:"",given:"",raw:""}}function At(){return{id:J(),text:"",tags:[],files:[]}}function pe(t){const e=137.50776,n=[];let r=0;for(let o=0;o<t;o++)r=(r+e)%360,n.push(`hsl(${r}, 100%, 50%)`);return n}function _e(t){let e,n,r,o,s,c,l,u,i,_,a,$,f,g,y,d,D,v,C,E,k,at,N,ft,G,A,w,et,dt;return{c(){e=P("div"),n=P("div"),r=P("button"),o=z("Papers list"),l=H(),u=P("button"),i=z("Detail paper"),$=H(),f=P("button"),g=z("Paper with DOI"),D=H(),v=P("button"),C=z("Paper without DOI"),at=H(),N=P("button"),ft=z("Graph"),b(r,"class",s=O(t[0]==="papersList"?"selected":"")+" svelte-139i86w"),b(u,"class",_=O(t[0]==="detail"?"selected":"")+" svelte-139i86w"),b(f,"class",y=O(t[0]==="paperDOI"?"selected":"")+" svelte-139i86w"),b(v,"class",E=O(t[0]==="paperNonDOI"?"selected":"")+" svelte-139i86w"),b(N,"class",G=O(t[0]==="graph"?"selected":"")+" svelte-139i86w"),b(n,"id","tabs"),b(n,"class","svelte-139i86w"),b(e,"id","main"),b(e,"class","svelte-139i86w")},m(h,U){zt(h,e,U),m(e,n),m(n,r),m(r,o),m(n,l),m(n,u),m(u,i),m(n,$),m(n,f),m(f,g),m(n,D),m(n,v),m(v,C),m(n,at),m(n,N),m(N,ft),w=!0,et||(dt=[q(r,"click",t[1]),q(u,"click",t[2]),q(f,"click",t[3]),q(v,"click",t[4]),q(N,"click",t[5])],et=!0)},p(h,[U]){(!w||U&1&&s!==(s=O(h[0]==="papersList"?"selected":"")+" svelte-139i86w"))&&b(r,"class",s),(!w||U&1&&_!==(_=O(h[0]==="detail"?"selected":"")+" svelte-139i86w"))&&b(u,"class",_),(!w||U&1&&y!==(y=O(h[0]==="paperDOI"?"selected":"")+" svelte-139i86w"))&&b(f,"class",y),(!w||U&1&&E!==(E=O(h[0]==="paperNonDOI"?"selected":"")+" svelte-139i86w"))&&b(v,"class",E),(!w||U&1&&G!==(G=O(h[0]==="graph"?"selected":"")+" svelte-139i86w"))&&b(N,"class",G)},i(h){w||(I(()=>{!w||(c||(c=x(r,S,{},!0)),c.run(1))}),I(()=>{!w||(a||(a=x(u,S,{},!0)),a.run(1))}),I(()=>{!w||(d||(d=x(f,S,{},!0)),d.run(1))}),I(()=>{!w||(k||(k=x(v,S,{},!0)),k.run(1))}),I(()=>{!w||(A||(A=x(N,S,{},!0)),A.run(1))}),w=!0)},o(h){c||(c=x(r,S,{},!1)),c.run(0),a||(a=x(u,S,{},!1)),a.run(0),d||(d=x(f,S,{},!1)),d.run(0),k||(k=x(v,S,{},!1)),k.run(0),A||(A=x(N,S,{},!1)),A.run(0),w=!1},d(h){h&&ut(e),h&&c&&c.end(),h&&a&&a.end(),h&&d&&d.end(),h&&k&&k.end(),h&&A&&A.end(),et=!1,V(dt)}}}function he(t,e,n){let r="papersList";const o=["papersList","paperDOI","paperNonDOI"];function s(a){if(a.ctrlKey&&a.key==="1"&&a.shiftKey){const $=o.indexOf(r);n(0,r=o[($+1)%o.length])}}return Bt(()=>(le(),window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[r,()=>{n(0,r="papersList")},()=>{n(0,r="detail")},()=>{n(0,r="paperDOI")},()=>{n(0,r="paperNonDOI")},()=>{n(0,r="graph")}]}class me extends It{constructor(e){super(),Et(this,e,he,_e,lt,{})}}function ge(t){let e,n;return e=new me({}),{c(){te(e.$$.fragment)},m(r,o){St(e,r,o),n=!0},p:L,i(r){n||(xt(e.$$.fragment,r),n=!0)},o(r){Yt(e.$$.fragment,r),n=!1},d(r){Dt(e,r)}}}class ye extends It{constructor(e){super(),Et(this,e,null,ge,lt,{})}}new ye({target:document.getElementById("app")});
